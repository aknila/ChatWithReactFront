(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){e.exports=n(150)},113:function(e,t,n){},114:function(e,t,n){},141:function(e,t){},150:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(40),o=n.n(s),c=(n(113),n(41)),l=n(84),r=n(15),u=n(16),d=n(18),h=n(17),m=n(19),p=(n(114),n(4)),g=n(177),f=n(178),v=n(98),M=n(176),x=n(99),y=n(157),E=n(181),b=i.a.createContext(void 0),w={childrenGap:10},k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,n._showPanel=function(){n._isMounted&&n.setState({showPanel:!0})},n._hidePanel=function(){n._isMounted&&n.setState({showPanel:!1})},n.state={showPanel:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e={root:{fontSize:"10px",color:"#aaa",padding:0}},t={imageFit:p.b.contain,width:200,height:200};return i.a.createElement("div",null,i.a.createElement(g.a,{horizontalAlign:"center",padding:10,tokens:w},i.a.createElement(f.a,{variant:"xLarge"},"Chat With React (Connected: ",this.context.count,")"),i.a.createElement(v.a,{text:"Profil Settings",onClick:this._showPanel})),i.a.createElement(M.a,{isOpen:this.state.showPanel,isLightDismiss:!0,headerText:"Profil Settings",onDismiss:this._hidePanel},i.a.createElement(x.a,Object.assign({},t,{src:this.context.pdp?this.context.pdp:"https://www.freeiconspng.com/uploads/discord-metro-style-icon-0.png",alt:"Profil Photo"})),i.a.createElement(y.a,{styles:e,htmlFor:"idName"},"Name"),i.a.createElement(E.a,{className:"textInput",id:"idName",multiline:!1,resizable:!1,placeholder:"Anonyme",value:this.context.author,onChange:this.context.changeName}),i.a.createElement(y.a,{styles:e,htmlFor:"idProfil"},"Image"),i.a.createElement(E.a,{className:"textInput",id:"idProfil",multiline:!1,resizable:!1,placeholder:"Image Url",value:this.context.pdp,onChange:this.context.changeUrl})))}}]),t}(i.a.Component);k.contextType=b;var _=n(175),O={childrenGap:10},j=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).keyPress=function(e){13===e.keyCode&&n.sendNewMessage()},n.sendNewMessage=function(){n.state.message&&(n.context.sendMessage(n.context.author?n.context.author:"Anonyme",n.state.message,n.context.id,n.context.pdp),n.setState({message:void 0}))},n.onChange=function(e,t){n.setState({message:t})},n.state={message:void 0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(g.a,{horizontal:!0,horizontalAlign:"center",padding:10,tokens:O},i.a.createElement(g.a.Item,{align:"center"},i.a.createElement(E.a,{id:"sendInput",multiline:!1,resizable:!1,placeholder:"Type message...",value:this.state.message,onChange:this.onChange,onKeyUp:this.keyPress})),i.a.createElement(g.a.Item,{align:"center"},i.a.createElement(_.a,{id:"sendButton",text:"Send",onClick:this.sendNewMessage})))}}]),t}(i.a.Component);j.contextType=b;var C=n(180),P=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).editMsg=function(e){n.setState({edit:!0,tmp:e,newText:e})},n.keyPress=function(e){13===e.keyCode&&n.validEditMessage(),27===e.keyCode&&n.setState({edit:!1,tmp:null,newText:null})},n.validEditMessage=function(){var e=n.state.newText;n.setState({edit:!1,tmp:null,newText:null}),e?n.context.editMessage(n.props.uid,e):n.context.deleteMessage(n.props.uid)},n.onChange=function(e,t){n.setState({newText:t})},n.state={edit:!1,tmp:null,newText:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t,n=this,a=this.props,s=a.author,o=a.text,c=a.id,l=a.aid,r=a.date,u=a.uid;return l===this.context.id&&(e=i.a.createElement(C.a,{"data-automation-id":"test",text:"",splitButtonAriaLabel:"See 2 sample options","aria-roledescription":"split button",style:{height:"35px"},menuProps:{items:[{key:"editMessage",text:"Edit",iconProps:{iconName:"CodeEdit"},onClick:function(){return n.editMsg(o)}},{key:"deleteMessage",text:"Delete",iconProps:{iconName:"Delete"},onClick:function(){return n.context.deleteMessage(u)}}]}})),t=this.state.edit?i.a.createElement(E.a,{className:"inputEditContainer",inputClassName:"inputEdit",borderless:!0,multiline:!1,resizable:!1,id:c,value:this.state.newText,onChange:this.onChange,onKeyUp:this.keyPress}):i.a.createElement(f.a,{id:c},o),i.a.createElement("div",null,i.a.createElement(g.a,{horizontal:!0},i.a.createElement(g.a,{id:"messageItem",className:l===this.context.id?"containerItemAuthor":"containerItem",padding:7},i.a.createElement(y.a,{styles:{root:{fontSize:"10px",color:"#ffffff",padding:0}},htmlFor:c},s,"#",l.substring(0,4)," ",r),t),i.a.createElement("div",null,e)))}}]),t}(i.a.Component);P.contextType=b;var S={childrenGap:10},N=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,n.myRef=void 0,n.scrollToBottom=function(){n.myRef&&n.myRef.current&&n._isMounted&&n.myRef.current.scrollIntoView({behavior:"smooth"})},n.myRef=i.a.createRef(),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context.list,t=Object.keys(e),n={imageFit:p.b.contain,width:50,height:50,className:"pdpImage"};return i.a.createElement(g.a,{className:"container",tokens:S},t.map(function(t){return i.a.createElement(g.a,{key:t,horizontal:!0,tokens:{childrenGap:5},className:"subContainer"},i.a.createElement(x.a,Object.assign({},n,{src:e[t].pdp?e[t].pdp:"https://www.freeiconspng.com/uploads/discord-metro-style-icon-0.png",alt:"Profil Photo"})),i.a.createElement(P,Object.assign({id:t},e[t])))}),i.a.createElement("div",{style:{float:"left",clear:"both"},ref:this.myRef}))}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){"new"===this.props.lastEvent&&this._isMounted&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(i.a.Component);N.contextType=b;var T=n(95),D=n.n(T),I=n(63),z=n.n(I),U=n(96),A=n.n(U),B=n(97);Object(B.a)();var R=3,W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e)))._isMounted=!1,n.updateData=function(e){n._isMounted&&n.setState({count:e.count})},n._wEditMessage=function(e,t){n._isMounted&&n.state.socket.emit("edit message",{uid:e,text:t})},n._wDeleteMessage=function(e){n._isMounted&&n.state.socket.emit("delete message",{uid:e})},n._editMessage=function(e){if(n._isMounted){var t=n.state.list,a=t;a[Object.keys(t).filter(function(n){return t[n].uid===e.uid})[0]].text=e.text,n.setState({list:a,lastEvent:"edit"})}},n._deleteMessage=function(e){if(n._isMounted){var t=n.state.list,a=t;delete a[Object.keys(t).filter(function(n){return t[n].uid===e.uid})[0]],n.setState({list:a,lastEvent:"delete"})}},n._sendMessage=function(e,t,a,i){n._isMounted&&n.state.socket.emit("chat message",{author:e,text:t,id:a,pdp:i,uid:z()()})},n._newMessage=function(e,t,a,i,s){if(n._isMounted){var o=n.state.list,r=R++,u=A()().format("hh:mm A").toString();n.setState({list:Object(l.a)({},o,Object(c.a)({},r,{author:e,text:t,aid:a,pdp:i,date:u,uid:s})),lastEvent:"new"})}},n.changeName=function(e,t){n._isMounted&&n.setState({author:t})},n.changeUrl=function(e,t){n._isMounted&&n.setState({pdp:t})},n.state={list:{1:{author:"Anthony",text:"Hey",aid:"nope",pdp:null,date:null,uid:null},2:{author:"Jack",text:"Bonsoir",aid:"nope",pdp:null,date:null,uid:null}},lastEvent:"",author:"",endpoint:"http://127.0.0.1:4001",response:!1,socket:null,count:1,id:z()(),pdp:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.state.endpoint,n=D()(t);n.on("chat message",function(t){e._newMessage(t.author,t.text,t.id,t.pdp,t.uid)}),n.on("new on",this.updateData),n.on("new off",this.updateData),n.on("delete message",this._deleteMessage),n.on("edit message",this._editMessage),this._isMounted&&this.setState({socket:n})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.list,n=e.author,a=e.count,s=e.id,o=e.pdp;return i.a.createElement("div",{className:"App"},i.a.createElement(b.Provider,{value:{list:t,author:n,count:a,id:s,pdp:o,sendMessage:this._sendMessage,changeName:this.changeName,changeUrl:this.changeUrl,editMessage:this._wEditMessage,deleteMessage:this._wDeleteMessage}},i.a.createElement(k,null),i.a.createElement(N,{lastEvent:this.state.lastEvent}),i.a.createElement(j,null)))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,1,2]]]);
//# sourceMappingURL=main.9095e043.chunk.js.map